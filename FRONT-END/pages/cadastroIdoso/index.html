<!DOCTYPE html>
<html class="light" lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cadastro de idoso</title>
    <link rel="icon" type="image/png" href="/public/logo.png" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />

    <style>
      .material-symbols-outlined {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
      }
    </style>

    <script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#13b6ec",
              "background-light": "#f6f8f8",
              "background-dark": "#101d22",
              "text-light": "#0d181b",
              "text-dark": "#e0e4e5",
              "subtext-light": "#4c869a",
              "subtext-dark": "#a0b5bd",
              "border-light": "#cfe1e7",
              "border-dark": "#344850",
              "surface-light": "#ffffff",
              "surface-dark": "#1a2a32",
              "surface-accent-light": "#e7f0f3",
              "surface-accent-dark": "#2a3c44",
            },
            fontFamily: {
              display: ["Manrope", "sans-serif"],
            },
            borderRadius: {
              DEFAULT: "0.25rem",
              lg: "0.5rem",
              xl: "0.75rem",
              full: "9999px",
            },
          },
        },
      };
    </script>
  </head>
  <body
    class="font-display bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark"
  >
    <div id="app"></div>

    <div class="py-32 pl-72 pr-8">
      <div class="flex min-h-screen">
        <!-- Main Content -->
        <main class="flex-1 p-8 overflow-y-auto">
          <div class="max-w-4xl mx-auto">
            <!-- Breadcrumbs -->
            <div class="flex flex-wrap gap-2 mb-6">
              <a
                href="/pages/painel"
                class="text-subtext-light dark:text-subtext-dark text-sm font-medium leading-normal"
                >Início</a
              >
              <span
                class="text-subtext-light dark:text-subtext-dark text-sm font-medium leading-normal"
                >/</span
              >
              <a
                href="/pages/pacientes"
                class="text-subtext-light dark:text-subtext-dark text-sm font-medium leading-normal"
                >Idosos</a
              >
              <span
                class="text-subtext-light dark:text-subtext-dark text-sm font-medium leading-normal"
                >/</span
              >
              <span
                class="text-text-light dark:text-text-dark text-sm font-medium leading-normal"
                >Cadastrar Novo</span
              >
            </div>

            <!-- Page Heading -->
            <div class="flex flex-wrap justify-between gap-4 mb-8">
              <div class="flex flex-col gap-2">
                <p
                  id="title"
                  class="text-text-light dark:text-text-dark text-4xl font-black leading-tight tracking-[-0.033em]"
                >
                  Cadastro de Idoso
                </p>
                <p
                  class="text-subtext-light dark:text-subtext-dark text-base font-normal leading-normal"
                >
                  Preencha os campos abaixo para adicionar um novo idoso ao
                  sistema.
                </p>
              </div>
            </div>

            <!-- FORM -->
            <form
              id="form-idoso"
              enctype="multipart/form-data"
              class="space-y-10"
            >
              <!-- Form Card -->
              <div
                class="bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-border-light dark:border-border-dark p-8 space-y-10"
              >
                <!-- Section: Dados Gerais -->
                <section>
                  <h2
                    class="text-text-light dark:text-text-dark text-[22px] font-bold leading-tight tracking-[-0.015em] border-b border-border-light dark:border-border-dark pb-3 mb-6"
                  >
                    Dados Gerais
                  </h2>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6">
                    <label class="flex flex-col min-w-40 flex-1 col-span-2">
                      <p
                        class="text-text-light dark:text-text-dark text-base font-medium leading-normal pb-2"
                      >
                        Nome completo
                      </p>
                      <input
                        id="nome"
                        name="nome"
                        class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark h-12 placeholder:text-subtext-light dark:placeholder:text-subtext-dark px-4 text-base font-normal leading-normal"
                        placeholder="Digite o nome completo"
                        value=""
                      />
                    </label>

                    <label class="flex flex-col min-w-40 flex-1">
                      <p
                        class="text-text-light dark:text-text-dark text-base font-medium leading-normal pb-2"
                      >
                        Data de nascimento
                      </p>
                      <input
                        id="data_nasc"
                        name="data_nasc"
                        type="date"
                        class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark h-12 placeholder:text-subtext-light dark:placeholder:text-subtext-dark px-4 text-base font-normal leading-normal"
                        value=""
                      />
                    </label>
                  </div>

                  <!-- Avatar / Foto do idoso -->
                  <div class="mt-6">
                    <p
                      class="text-text-light dark:text-text-dark text-base font-medium leading-normal pb-2"
                    >
                      Foto / Avatar do idoso
                    </p>
                    <div class="flex items-center gap-4">
                      <!-- Preview simples (círculo com ícone) -->
                      <div
                        id="foto-preview"
                        class="w-20 h-20 rounded-full bg-surface-accent-light dark:bg-surface-accent-dark flex items-center justify-center border border-border-light dark:border-border-dark overflow-hidden"
                      >
                        <!-- Se quiser depois dá pra trocar por <img id="foto-preview" ...> via JS -->
                        <span
                          class="material-symbols-outlined text-subtext-light dark:text-subtext-dark"
                        >
                          person
                        </span>
                      </div>

                      <!-- Botão de selecionar arquivo -->
                      <label
                        class="inline-flex items-center justify-center px-4 py-2 rounded-lg bg-primary text-white text-sm font-semibold cursor-pointer hover:bg-primary/90"
                      >
                        Selecionar foto
                        <input
                          id="foto"
                          name="foto"
                          type="file"
                          accept="image/*"
                          class="hidden"
                        />
                      </label>
                    </div>
                    <p
                      class="mt-2 text-xs text-subtext-light dark:text-subtext-dark"
                    >
                      Formatos aceitos: JPG, PNG. Tamanho máximo recomendado:
                      5MB.
                    </p>
                  </div>

                  <div class="mt-6">
                    <p
                      class="text-text-light dark:text-text-dark text-base font-medium leading-normal pb-2"
                    >
                      Contatos de emergência
                    </p>

                    <!-- LISTA DE CONTATOS -->
                    <div id="contacts-list" class="space-y-4">
                      <div
                        class="contact-row flex items-end gap-4 bg-surface-accent-light dark:bg-surface-accent-dark border border-border-light dark:border-border-dark rounded-xl p-4"
                      >
                        <label class="flex flex-col min-w-40 flex-1">
                          <p
                            class="text-text-light dark:text-text-dark text-sm font-medium leading-normal pb-2"
                          >
                            Nome
                          </p>
                          <input
                            name="contato_nome[]"
                            class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark h-12 placeholder:text-subtext-light dark:placeholder:text-subtext-dark px-4 text-base font-normal leading-normal"
                            placeholder="Nome do contato"
                            value=""
                          />
                        </label>

                        <label class="flex flex-col min-w-40 flex-1">
                          <p
                            class="text-text-light dark:text-text-dark text-sm font-medium leading-normal pb-2"
                          >
                            Telefone
                          </p>
                          <input
                            name="contato_tel[]"
                            class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark h-12 placeholder:text-subtext-light dark:placeholder:text-subtext-dark px-4 text-base font-normal leading-normal"
                            placeholder="(00) 00000-0000"
                            value=""
                          />
                        </label>

                        <button
                          type="button"
                          class="flex items-center justify-center shrink-0 size-12 rounded-lg text-subtext-light dark:text-subtext-dark hover:text-red-500 hover:bg-red-500/10 dark:hover:text-red-400 dark:hover:bg-red-400/10 remove-contact"
                        >
                          <span class="material-symbols-outlined">delete</span>
                        </button>
                      </div>
                    </div>

                    <!-- hidden JSON de contatos -->
                    <input
                      type="hidden"
                      id="contatos-json"
                      name="contatos"
                      value="[]"
                    />

                    <button
                      id="add-contact"
                      type="button"
                      class="flex items-center gap-2 mt-4 text-primary font-bold text-sm py-2 px-3 rounded-lg hover:bg-primary/10"
                    >
                      <span class="material-symbols-outlined">add_circle</span>
                      Adicionar Contato
                    </button>
                  </div>

                  <div class="mt-6">
                    <label class="flex flex-col w-full">
                      <p
                        class="text-text-light dark:text-text-dark text-base font-medium leading-normal pb-2"
                      >
                        Informações gerais relevantes
                      </p>
                      <textarea
                        id="informacoes"
                        name="informacoes"
                        class="form-textarea w-full resize-y min-h-28 rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark placeholder:text-subtext-light dark:placeholder:text-subtext-dark p-4 text-base font-normal leading-normal"
                        placeholder="Alergias, plano de saúde, observações..."
                      ></textarea>
                    </label>
                  </div>
                </section>

                <!-- Section: Doenças e Condições -->
                <section>
                  <h2
                    class="text-text-light dark:text-text-dark text-[22px] font-bold leading-tight tracking-[-0.015em] border-b border-border-light dark:border-border-dark pb-3 mb-6"
                  >
                    Cadastro de Doenças e Condições Clínicas
                  </h2>

                  <!-- LISTA DE CONDIÇÕES (inicia vazia, JS preenche) -->
                  <div id="conditions-list" class="space-y-4"></div>

                  <!-- hidden JSON de doenças -->
                  <input
                    type="hidden"
                    id="doencas-json"
                    name="doencas"
                    value="[]"
                  />

                  <!-- BOTÃO DE ADICIONAR NOVA DOENÇA -->
                  <div class="text-center py-4">
                    <button
                      id="add-condition"
                      type="button"
                      class="flex items-center gap-2 text-primary font-bold text-sm py-2 px-4 rounded-lg hover:bg-primary/10 mx-auto"
                    >
                      <span class="material-symbols-outlined">add_circle</span>
                      Adicionar Doença
                    </button>
                  </div>
                </section>
              </div>

              <!-- Action Buttons -->
              <div class="flex justify-end gap-4 mt-8">
                <button
                  type="button"
                  class="flex min-w-[120px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-6 bg-gray-200 dark:bg-surface-accent-dark text-text-light dark:text-text-dark text-base font-bold leading-normal tracking-wide"
                >
                  <span class="truncate">Cancelar</span>
                </button>
                <button
                  type="submit"
                  class="flex min-w-[120px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-6 bg-primary text-white text-base font-bold leading-normal tracking-wide"
                >
                  <span class="truncate">Salvar Idoso</span>
                </button>
              </div>
            </form>
          </div>
        </main>
      </div>
    </div>

    <script src="/public/js/layout.js"></script>
    <script src="/public/js/cadastroIdoso.js"></script>
  </body>
</html>
